!function(e,t){if("object"==typeof exports&&"object"==typeof module)module.exports=t();else if("function"==typeof define&&define.amd)define([],t);else{var n=t();for(var o in n)("object"==typeof exports?exports:e)[o]=n[o]}}(window,(function(){return function(e){var t={};function n(o){if(t[o])return t[o].exports;var r=t[o]={i:o,l:!1,exports:{}};return e[o].call(r.exports,r,r.exports,n),r.l=!0,r.exports}return n.m=e,n.c=t,n.d=function(e,t,o){n.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:o})},n.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.t=function(e,t){if(1&t&&(e=n(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var o=Object.create(null);if(n.r(o),Object.defineProperty(o,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var r in e)n.d(o,r,function(t){return e[t]}.bind(null,r));return o},n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="",n(n.s=0)}([function(e,t,n){e.exports=n(1)},function(e,t,n){"use strict";n.r(t);var o={};n.r(o),n.d(o,"Command",(function(){return l}));var r={};n.r(r),n.d(r,"CommandGroup",(function(){return m}));var i={};n.r(i),n.d(i,"UI",(function(){return f})),n.d(i,"ui",(function(){return h}));var u={};n.r(u),n.d(u,"CommandRegistry",(function(){return v})),n.d(u,"commandRegistry",(function(){return y}));var s={};n.r(s),n.d(s,"DOMEventStep",(function(){return b}));var c={};n.r(c),n.d(c,"DOMEventsCommand",(function(){return g}));var l=function(){function e(e){var t=e.title,n=e.description,o=void 0===n?"":n,r=e.run,i=e.onSelect,u=e.onDeselect;this.title=t,this.description=o,this._run=r,this.onSelect=i,this.onDeselect=u}return e.prototype.run=function(){if("function"!=typeof this._run)throw new Error("No run method provided.");this._run()},e.prototype.isAvailable=function(){return!0},e.prototype.matches=function(e){var t=this.title.toLowerCase(),n=this.description.toLowerCase(),o=e.toLowerCase().split("").join(".*");return new RegExp(o).test(t)?10:new RegExp(o).test(n)?5:0},e}(),m=function(){function e(e){var t=e.title,n=void 0===t?"":t,o=e.weight,r=void 0===o?0:o,i=e.isAvailable,u=void 0===i?void 0:i;this.commands=[],this.filter="",this.title=n,this.weight=r,this.isAvailable=u||this.isAvailable}return e.prototype.setCommandRegistry=function(e){this.commandRegistry=e},e.prototype.setFilter=function(e){this.filter=e},e.prototype.isAvailable=function(){return this.availableCommands.length>0},e.prototype.isAvailableInContext=function(){return!0},e.prototype.registerCommand=function(e){e instanceof l||(e=new l(e)),this.commands.push(e)},Object.defineProperty(e.prototype,"availableCommands",{get:function(){return this.commands.filter((function(e){return e.isAvailable()}))},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"filteredCommands",{get:function(){var e=this,t=this.commandRegistry?this.commandRegistry.maxResultsPerGroup:Number.MAX_SAFE_INTEGER;return this.availableCommands.filter((function(t){return t.matches(e.filter)})).slice(0,t)},enumerable:!0,configurable:!0}),e}();function d(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];for(var o=e.split("."),r=o[0],i=o.slice(1),u=document.createElement(r),s=0,c=i;s<c.length;s++){var l=c[s];u.classList.add(l)}for(var m=0,d=t;m<d.length;m++){var a=d[m];if("string"==typeof a)u.innerHTML+=a;else{if(!(a instanceof HTMLElement))throw new Error("children must be string or HTMLElement");u.appendChild(a)}}return u}var a,p=[HTMLInputElement.prototype,HTMLTextAreaElement.prototype,HTMLSelectElement.prototype],f=function(){function e(){var t=this;this.inputSubscribers=[],this.openSubscribers=[],this.runSubscribers=[],this.selectSubscribers=[],this.onDocumentClick=this.onDocumentClick.bind(this),this.onKeydown=this.onKeydown.bind(this),this.menuElement=e.createMenuElement(),this.inputElement=e.createInputElement(),this.groupsListElement=e.createGroupsListElement(),this.menuElement.appendChild(this.inputElement);var n,o=d("div.dotmenu__results");o.appendChild(this.groupsListElement),this.menuElement.appendChild(o),document.body.appendChild(this.menuElement),this.inputElement.addEventListener("keydown",(function(e){"Enter"!==e.key?"ArrowUp"!==e.key?"ArrowDown"!==e.key?setTimeout((function(){var e=t.inputElement.value;if(e!==n){n=e;for(var o=0,r=t.inputSubscribers;o<r.length;o++){(0,r[o])(e)}}}),0):y.selectNextFilteredCommand():y.selectPrevFilteredCommand():t.emitRun()}))}return e.createMenuElement=function(){var e=d("div.dotmenu");return e.tabIndex=-1,e},e.createInputElement=function(){return d("input.dotmenu__input")},e.createGroupsListElement=function(){return d("ul.dotmenu__groups")},e.createGroupLiElement=function(e){return d("li.dotmenu__group",d("span.dotmenu__group-title",e.title))},e.createResultsUlElement=function(){return d("ul.dotmenu__commands")},e.createResultLiElement=function(e){return d("li.dotmenu__command",d("span.dotmenu__command-title",e.title))},e.prototype.setGroups=function(e){this.removeAllGroups();for(var t=0,n=e;t<n.length;t++){var o=n[t];this.addGroup(o)}},e.prototype.addGroup=function(t){for(var n=this,o=e.createGroupLiElement(t),r=e.createResultsUlElement(),i=function(t){var o=e.createResultLiElement(t);t.element=o,o.addEventListener("click",(function(){return n.emitRun()})),o.addEventListener("mouseover",(function(){for(var e=0,o=n.selectSubscribers;e<o.length;e++){(0,o[e])(t)}})),r.appendChild(o)},u=0,s=t.filteredCommands;u<s.length;u++){i(s[u])}o.appendChild(r),this.groupsListElement.appendChild(o)},e.prototype.removeAllGroups=function(){this.groupsListElement.innerHTML=""},e.prototype.openMenu=function(){var e=this;this.menuElement.classList.add("dotmenu--open"),document.addEventListener("click",this.onDocumentClick),document.addEventListener("keydown",this.onKeydown);for(var t=0,n=this.openSubscribers;t<n.length;t++){(0,n[t])()}setTimeout((function(){return e.inputElement.focus()}),0)},e.prototype.closeMenu=function(){this.menuElement.classList.remove("dotmenu--open"),this.inputElement.value="",document.removeEventListener("keydown",this.onKeydown),document.removeEventListener("blur",this.onDocumentClick)},e.prototype.openMenuIfNoActiveInputs=function(){return document.activeElement===document.body?this.openMenu():!!p.find((function(e){return document.activeElement instanceof e}))?void 0:this.openMenu()},e.prototype.selectCommand=function(e){e.element&&e.element.classList.add("dotmenu__command--selected")},e.prototype.deselectCommand=function(e){e.element&&e.element.classList.remove("dotmenu__command--selected")},e.prototype.onDocumentClick=function(e){this.menuElement.contains(e.target)||this.closeMenu()},e.prototype.onKeydown=function(e){"Escape"===e.key&&this.closeMenu()},e.prototype.onInput=function(e){this.inputSubscribers.push(e)},e.prototype.onOpen=function(e){this.openSubscribers.push(e)},e.prototype.onSelect=function(e){this.selectSubscribers.push(e)},e.prototype.onRun=function(e){this.runSubscribers.push(e)},e.prototype.emitRun=function(){for(var e=0,t=this.runSubscribers;e<t.length;e++){(0,t[e])()}this.closeMenu()},e.prototype.dotEventListener=function(e){"."===e.key&&this.openMenuIfNoActiveInputs()},e}(),h=new f,v=function(){function e(){this.commandGroups=[],this.maxResultsPerGroup=10}return e.prototype.registerCommandGroup=function(e){e.setCommandRegistry(this),this.commandGroups.push(e)},e.prototype.unregisterCommandGroup=function(e){this.commandGroups=this.commandGroups.filter((function(t){return t!==e}))},e.prototype.setFilter=function(e){for(var t=0,n=this.commandGroups;t<n.length;t++){n[t].setFilter(e)}h.setGroups(this.filteredCommandGroups)},e.prototype.useDotEventListener=function(){var e=this;document.addEventListener("keydown",(function(e){return h.dotEventListener(e)})),h.onOpen((function(){if(0!==e.filteredCommands.length){h.setGroups(e.filteredCommandGroups);var t=e.filteredCommands[0];e.selectCommand(t)}})),h.onInput((function(t){e.setFilter(t);var n=e.filteredCommands[0];e.selectCommand(n)})),h.onRun((function(){return e.runSelectedCommand()})),h.onSelect((function(t){e.selectCommand(t)}))},e.prototype.runSelectedCommand=function(){this.selectedCommand&&this.selectedCommand.run()},e.prototype.selectCommand=function(e){this.selectedCommand&&this.deselectCommand(this.selectedCommand),this.selectedCommand=e,e&&(e.onSelect&&e.onSelect(),h.selectCommand(e))},e.prototype.deselectCommand=function(e){e&&(e.onDeselect&&e.onDeselect(),h.deselectCommand(e))},e.prototype.selectNextFilteredCommand=function(){var e=this.filteredCommands.indexOf(this.selectedCommand)+1;e>=this.filteredCommands.length&&(e=0),this.selectCommand(this.filteredCommands[e])},e.prototype.selectPrevFilteredCommand=function(){var e=this.filteredCommands.indexOf(this.selectedCommand)-1;e<0&&(e=this.filteredCommands.length-1),this.selectCommand(this.filteredCommands[e])},Object.defineProperty(e.prototype,"availableCommandGroups",{get:function(){return this.commandGroups.filter((function(e){return e.isAvailable()})).sort((function(e,t){return t.weight-e.weight}))},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"filteredCommands",{get:function(){return this.filteredCommandGroups.reduce((function(e,t){return e.concat(t.filteredCommands)}),[])},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"filteredCommandGroups",{get:function(){return this.availableCommandGroups.filter((function(e){return e.filteredCommands.length>0}))},enumerable:!0,configurable:!0}),e}(),y=new v,b=function(){function e(e){var t=e.element,n=e.event;this.element="string"==typeof t?this.getElementForSelector(t):t,this.event=n}return e.prototype.getElementForSelector=function(e){var t=document.querySelector(e);if(!t)throw new Error("Couldn't find "+t+" in the document.");return t},e.prototype.run=function(){var e=new Event(this.event);this.element.dispatchEvent(e)},e.prototype.addFocus=function(){this.element.classList.add("dotmenu__focused-event-target")},e.prototype.removeFocus=function(){this.element.classList.remove("dotmenu__focused-event-target")},e.createClickEventStep=function(t){return new e({element:t,event:"click"})},e}(),C=(a=function(e,t){return(a=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}a(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),E=function(){for(var e=0,t=0,n=arguments.length;t<n;t++)e+=arguments[t].length;var o=Array(e),r=0;for(t=0;t<n;t++)for(var i=arguments[t],u=0,s=i.length;u<s;u++,r++)o[r]=i[u];return o},g=function(e){function t(t){var n=t.title,o=t.description,r=t.domEventSteps,i=e.call(this,{title:n,description:o,run:function(){}})||this;return i.domEventSteps=[],r&&(i.domEventSteps=E(i.domEventSteps,r)),i}return C(t,e),t.prototype.registerDOMEventStep=function(e){this.domEventSteps.push(e)},t.prototype.run=function(){for(var e=0,t=this.domEventSteps;e<t.length;e++){t[e].run()}},t.prototype.onSelect=function(){for(var e=0,t=this.domEventSteps;e<t.length;e++){t[e].addFocus()}},t.prototype.onDeselect=function(){for(var e=0,t=this.domEventSteps;e<t.length;e++){t[e].removeFocus()}},t.createClickEventCommand=function(e){var n=e.title,o=e.description,r=e.element,i=new t({title:n,description:o});return i.registerDOMEventStep(b.createClickEventStep(r)),i},t}(l);n.d(t,"dotmenu",(function(){return _}));var S=function(){return(S=Object.assign||function(e){for(var t,n=1,o=arguments.length;n<o;n++)for(var r in t=arguments[n])Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r]);return e}).apply(this,arguments)},_=S(S(S(S(S(S({},o),r),u),c),s),i)}])}));